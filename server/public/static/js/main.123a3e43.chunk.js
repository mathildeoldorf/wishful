(this.webpackJsonpquizdom=this.webpackJsonpquizdom||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){},33:function(e,t,a){},38:function(e){e.exports=JSON.parse('{"APICategories":"https://openapi.etsy.com/v2/listings/active?fields=title,quantity,category_id,url,taxonomy_path&","APIProducts":" https://openapi.etsy.com/v2/listings/active?","KeyLink":"0933a188c8173650bd78979a9596eacc","KeyEtsy":"api_key=gjiz0w75be02n5smg02gxvje"}')},39:function(e,t,a){"use strict";(function(e){var n=a(2),r=a.n(n),c=a(4),l=a(1),s=a(0),o=a.n(s),i=(a(15),a(3)),m=a.n(i),u=a(95);t.a=function(t){var a=t.wishlistID,n=t.KeyLink,i=t.wishlistItem,p=t.setOpen,d=t.fetchWishlist,g=t.showMessage,h=Object(s.useState)(!1),E=Object(l.a)(h,2),f=E[0],b=E[1],v=Object(s.useState)(i.price),N=Object(l.a)(v,2),w=N[0],j=N[1],O=Object(s.useState)(i.link),y=Object(l.a)(O,2),S=y[0],k=y[1];console.log(i);var x=function(){var t=Object(c.a)(r.a.mark((function t(c){var l,s,o,h,E;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),c.preventDefault(),console.log(i),t.prev=3,t.next=6,m.a.get("http://api.linkpreview.net/?key=".concat(n,"&q=").concat(S),{withCredentials:!1});case 6:return l=t.sent,s=l.data,console.log(u.join(e,"..","..","..","images","imageThumbnail.png")),o=""===s.image?s.image="/images/imageThumbnail.png":s.image,console.log(o),t.next=13,m.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(a,"/item/").concat(i.ID),{title:s.title,description:s.description,price:w,link:s.url,image:o});case 13:h=t.sent,E=h.data,console.log(E),b(!1),d(),p(!1),g(E.message),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(3),b(!1),g(t.t0.response.data.response),console.log(t.t0.response.data.response);case 27:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("section",{className:"updateWishlistItem relative"},o.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return p(!1)}},"Back"),o.a.createElement("div",{className:"banner"},o.a.createElement("h2",null,"Almost done..."),o.a.createElement("h1",null,"Simply update the information to make it the item of your dreams")),o.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:x},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"container grid"},o.a.createElement("label",{htmlFor:"price"},"Price"),o.a.createElement("input",{onChange:function(e){return j(e.target.value)},type:"text",name:"price",value:w,placeholder:"Price in DKK"})),o.a.createElement("div",{className:"container grid"},o.a.createElement("label",{htmlFor:"link"},"Link"),o.a.createElement("input",{onChange:function(e){return k(e.target.value)},type:"text",name:"link",value:S,placeholder:"Link to the item"}))),o.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},o.a.createElement("button",{id:i.ID,type:"submit",className:"active",disabled:!(S.length>0&&parseInt(w))},f?"Loading...":"Save item"))))}}).call(this,"/")},41:function(e,t,a){e.exports=a(96)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=(a(46),a(2)),o=a.n(s),i=a(4),m=a(1),u=a(40),p=(a(48),a(21),a(13)),d=a(7),g=(a(49),a(3)),h=a.n(g),E=a(35),f=function(){return r.a.createElement("div",{className:"Loader-wrapper"},r.a.createElement(E.BounceLoader,{color:"white",className:"Loader"}))},b=function(e){var t=e.auth,a=Object(p.g)(),c=Object(n.useState)(""),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),E=g[0],b=g[1],v=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile");case 3:t=e.sent,a=t.data.response,u(a),setTimeout((function(){b(!1)}),100),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b(!1),console.log(e.t0.response.data.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&(console.log(t),v())}),[]),r.a.createElement("section",{className:"home"},E?r.a.createElement(f,null):null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome back to"),r.a.createElement("h1",null,"Wishful, ",s?s.firstName:null),r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall container"},r.a.createElement("button",{className:"active",onClick:function(){return a.push("/profile")}},"Go to your profile"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome to"),r.a.createElement("h1",null,"Wishful"),r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall container"},r.a.createElement("button",{className:"active",onClick:function(){return a.push("/signup")}},"Signup with email"),r.a.createElement("button",{onClick:function(){return a.push("/login")}},"Login to my account"))))},v=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1];return{message:r,showMessage:function(e){c(e),document.querySelector(".message").classList.add("appear"),setTimeout((function(){document.querySelector(".message").classList.remove("appear")}),5e3)}}},N=function(e){var t=e.resMessage;return r.a.createElement("div",{className:"message"},r.a.createElement("p",null," ",t," "))},w=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],E=d[1],f=Object(n.useState)(!1),b=Object(m.a)(f,2),w=b[0],j=b[1],O=v(null),y=O.message,S=O.showMessage,k=Object(p.g)(),x=e.location.state||{from:{pathname:"profile"}};localStorage.getItem("user")&&k.push("/profile");var C=function(){var t=Object(i.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,j(!0),t.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/login",{email:l,password:g});case 5:n=t.sent,e.onAuth(!0),console.log("logging in"),localStorage.setItem("user",JSON.stringify(n.data)),console.log(JSON.parse(localStorage.user)),k.push(x.from.pathname),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),j(!1),S(t.t0.response.data.response),console.log(t.t0.response.data.response);case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{resMessage:y}),r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's login!")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:C},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:g,onChange:function(e){return E(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(l.length>0&&g.length>=8&&t.test(l)),type:"submit"},w?"Loading...":"Login"),r.a.createElement("button",{className:"marginTopSmall",onClick:function(){console.log("User requested a new password"),k.push("/requestReset")},type:"button"},"Forgotten your password ?")))))},j=(a(33),function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(e),s=Object(m.a)(l,2),o=s[0],i=s[1];return{promptMessage:r,promptHeader:o,showPromptMessage:function(e,t){console.log(t),console.log(e),c(t),i(e)},closePromptMessage:function(){c(null)}}}),O=function(e){var t=e.resPromptMessage,a=e.resPromptHeader,n=e.cancelAction,c=e.confirmAction,l=e.loading;return r.a.createElement("div",{className:"bgPrompt"},r.a.createElement("div",{className:"prompt alignItemsCenter"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,a),r.a.createElement("h1",{className:"headerPrompt"},t)),r.a.createElement("div",{className:"grid gridTwoColumns alignItemsBottom gridGapSmall"},r.a.createElement("button",{className:"active",onClick:c},l?"Loading...":"Confirm"),r.a.createElement("button",{className:"marginTopSmall",onClick:n},"Cancel"))))},y=function(e){var t=Object(p.g)(),a=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,c=Object(n.useState)([]),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),E=g[0],b=g[1],w=Object(n.useState)(""),y=Object(m.a)(w,2),S=y[0],k=y[1],x=Object(n.useState)(""),C=Object(m.a)(x,2),I=C[0],D=C[1],F=Object(n.useState)(!1),L=Object(m.a)(F,2),T=L[0],P=L[1],M=Object(n.useState)(!0),A=Object(m.a)(M,2),W=A[0],z=A[1],B=v(null),G=B.message,R=B.showMessage,_=j(null),H=_.promptMessage,q=_.promptHeader,Z=_.showPromptMessage,K=_.closePromptMessage,U=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile");case 4:t=e.sent,a=t.data.response,u(a),b(a.email),k(a.firstName),D(a.lastName),setTimeout((function(){z(!1)}),100),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),z(!1),R(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){return E?a.test(E):!!(E||S||I)},$=function(){var a=Object(i.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return z(!0),a.prev=1,a.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/delete");case 4:n=a.sent,console.log(n),e.onUnAuth(!1),t.push("/"),z(!1),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),z(!1),R(a.t0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(){return a.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),t.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile",{email:E,firstName:S,lastName:I});case 5:a=e.sent,console.log(a),n=a.data,console.log(n),U(),z(!1),P(!1),R(n.response),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),z(!1),R(e.t0.response.data.response),console.log(e.t0.response.data.response);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[]),r.a.createElement(r.a.Fragment,null,W?r.a.createElement(f,null):null,r.a.createElement(N,{resMessage:G}),H?r.a.createElement(O,{resPromptMessage:H,resPromptHeader:q,cancelAction:K,confirmAction:$,loading:W}):null,!1===T?r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Welcome to Wishful"),r.a.createElement("h1",null," ",s.firstName)),r.a.createElement("div",{className:"grid gridGapSmall gridTwoColumns container"},r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("p",{className:"name"},S||s.firstName)),r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("p",{className:"name"},I||s.lastName)),r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("p",{className:"name"},E||s.email))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:"active grid alignSelfBottom",onClick:function(){P(!0)}},"Update profile")))):r.a.createElement("section",{className:"profile update"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Whatever you want to change..."),r.a.createElement("h1",null,"Let's update your information")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:X},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{className:"firstName",id:"firstName",placeholder:"First name",value:S,type:"text",onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{className:"lastName",id:"lastName",placeholder:"Last name",value:I,type:"text",onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"email",id:"email",placeholder:"E-mail",value:E,type:"email",onChange:function(e){return b(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:J()?"active":"",disabled:!J(),type:"submit"},W?"Loading...":"Save"),r.a.createElement("button",{type:"button",className:"marginTopSmall",onClick:function(){return P(!1)}},"Cancel"),r.a.createElement("button",{type:"button",className:"btnDelete secondary absolute right",onClick:function(e){e.preventDefault(),console.log("deleting"),Z("Wait...","Are you sure you want to delete your profile?")}},"Delete profile")))))},S=(a(15),function(e){var t=e.setUpdate,a=e.fetchWishlists,c=e.showMessage,l=Object(n.useState)(!1),s=Object(m.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)([]),g=Object(m.a)(d,2),E=g[0],f=g[1],b=Object(n.useState)(""),v=Object(m.a)(b,2),N=v[0],w=v[1],j=Object(n.useState)(1),O=Object(m.a)(j,2),y=O[0],S=O[1],k=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists",{name:E,description:N,isPublic:y});case 5:r=e.sent,l=r.data,a(),t(!1),p(!1),c(l.message),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),p(!1),c(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"createWishlist relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",onClick:function(){return t(!1)}},"Back"),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's create a wishlist!")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:k},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",placeholder:"Name",type:"text",onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{id:"description",placeholder:"Description",type:"text",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{className:"label",htmlFor:"public"},"Do you want your wishlist to be public?"),r.a.createElement("div",{className:"box"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{id:"public",defaultChecked:!0,type:"checkbox",onChange:function(e){return e.target.checked?S(1):S(0)}}),r.a.createElement("span",{className:"slider round"}))))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(E.length>0&&N.length>0),type:"submit"},u?"Loading...":"Save"))))}),k=function(e){var t=e.i,a=e.wishlist,n=e.userID,c=e.context,l=Object(p.g)(),s=a.name.charAt(0);return r.a.createElement("button",{className:"btnSingleWishlist relative",id:a.ID,onClick:function(e){e.preventDefault(),c?l.push("/profile/".concat(n,"/wishlist/").concat(a.ID)):l.push("/wishlists/wishlist/".concat(a.ID))},key:t},r.a.createElement("div",{className:"coverletter"},s),r.a.createElement("span",null,r.a.createElement("h2",{id:a.ID},a.name),r.a.createElement("p",{id:a.ID},a.description)))},x=function(e){var t=e.userID,a=e.context,c=Object(p.g)(),l=v(null),s=l.message,u=l.showMessage,d=Object(n.useState)(!1),g=Object(m.a)(d,2),E=g[0],b=g[1],w=Object(n.useState)(!1),j=Object(m.a)(w,2),O=j[0],y=j[1],x=Object(n.useState)([]),C=Object(m.a)(x,2),I=C[0],D=C[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){var e=Object(i.a)(o.a.mark((function e(){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,!a){e.next=8;break}return e.next=5,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/profile/".concat(t,"/wishlists/"));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists");case 10:n=e.sent;case 11:r=n.data.response,c=r.map((function(e){return{ID:"".concat(e.ID),name:"".concat(e.name),description:"".concat(e.description)}})),D(c),setTimeout((function(){b(!1)}),500),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),b(!1),u(e.t0.response.data.response),console.log(e.t0.response.data.response);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(f,null):null,r.a.createElement(N,{resMessage:s}),O?r.a.createElement(S,{setUpdate:function(e){return y(e)},fetchWishlists:function(){return F()},showMessage:function(e){return u(e)}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:a?"wishlists relative marginTopMedium":"wishlists relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return c.goBack()}},"Back"),r.a.createElement("div",{className:a?"banner relative":"banner relative grid gridTwoThirds"},r.a.createElement("div",null,r.a.createElement("h2",null,"Overview"),r.a.createElement("h1",null,"Wishlists")),!a&&I.length?r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:"btnCreateWishList active",onClick:function(){return y(!0)}},"Create wishlist")):null),I.length?r.a.createElement("div",{className:"wishlistContainer grid gridFourColumns container gridGapSmall"},I.map((function(e,n){return r.a.createElement(k,{userID:t,context:a,i:n,key:n,wishlist:e})}))):r.a.createElement("div",{className:"banner"},a?r.a.createElement("h2",null,"No wishlists yet..."):r.a.createElement("div",{className:"container grid justifyContentCenter"},r.a.createElement("button",{className:"btnCreateWishList active marginTopSmall",onClick:function(){return y(!0)}},"Create wishlist"))))))},C=function(e){var t=Object(p.g)(),a=e.searchID?e.searchID:e.match.params.ID,c=Object(n.useState)([]),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(!0),g=Object(m.a)(d,2),E=g[0],b=g[1],v=function(){var e=Object(i.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile/".concat(a));case 4:n=e.sent,r=n.data.response,u(r),b(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.push("/");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[a]),r.a.createElement(r.a.Fragment,null,E?r.a.createElement(f,null):null,r.a.createElement("div",{className:"profile thumbnail bgPurple"},r.a.createElement("p",{className:"colorWhite"}," Profile"),r.a.createElement("h1",{className:"colorWhite"},s.firstName," ",s.lastName)),r.a.createElement(x,{userID:a,context:"public"}))},I=function(e){var t=Object(p.g)();0===localStorage.length&&t.push("/"),Object(n.useEffect)((function(){a()}),[]);var a=function(){var a=Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/logout");case 3:e.onAuth(!1),localStorage.clear(),t.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0&&console.log(a.t0.response.data.response);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null)},D=function(e){var t=Object(p.g)();localStorage.getItem("user")&&t.push("/profile");var a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],E=d[1],f=Object(n.useState)(!1),b=Object(m.a)(f,2),w=b[0],j=b[1],O=v(null),y=O.message,S=O.showMessage,k=e.match.params.token,x=function(){var e=Object(i.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,j(!0),e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/",{password:l,repeatPassword:g,token:k});case 5:n=e.sent,r=n.data.response,j(!1),S(r),setTimeout((function(){t.push("/login")}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),j(!1),S(e.t0.response.data.response);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){return l.length>0&&l.length>=8&&g.length>0&&g.length>=8&&l===g};return r.a.createElement("section",{className:"resetPassword"},r.a.createElement(N,{resMessage:y}),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go"),r.a.createElement("h1",{className:"formHeader"},"Let's reset your password")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",id:"resetPassword"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:l.password,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"repeatPassword"}," Repeat password "),r.a.createElement("input",{id:"repeatPassword",placeholder:"Repeat your password",type:"password",value:l.repeatPassword,onChange:function(e){return E(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C(),onClick:x,type:"submit"},w?"Loading...":"Confirm new password"))))},F=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!0),d=Object(m.a)(u,2),g=d[0],E=d[1],f=Object(n.useState)(!1),b=Object(m.a)(f,2),w=b[0],j=b[1],O=v(null),y=O.message,S=O.showMessage,k=Object(p.g)();localStorage.getItem("user")&&k.push("/profile"),Object(n.useEffect)((function(){S("Please enter your email")}),[]);var x=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,j(!0),e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/requestReset",{email:l});case 5:a=e.sent,n=a.data.response,console.log(n),j(!1),S(n),E(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),j(!1),S(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){return l.length>0&&t.test(l)};return r.a.createElement("section",{className:"forgottenPassword"},r.a.createElement(N,{resMessage:y}),g?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go"),r.a.createElement("h1",null,"Let's reset your password")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",id:"forgottenPassword"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"}," Email "),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:l,onChange:function(e){return s(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C,onClick:x,type:"submit"},w?"Loading...":"Request new password")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"We're almost there!"),r.a.createElement("h1",null,"Please check your e-mail and follow the link to proceed."))))},L=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],E=d[1],f=Object(n.useState)(""),b=Object(m.a)(f,2),w=b[0],j=b[1],O=Object(n.useState)(""),y=Object(m.a)(O,2),S=y[0],k=y[1],x=Object(n.useState)(""),C=Object(m.a)(x,2),I=C[0],D=C[1],F=Object(n.useState)(!1),L=Object(m.a)(F,2),T=L[0],P=L[1],M=v(null),A=M.message,W=M.showMessage,z=Object(p.g)(),B=e.location.state||{from:{pathname:"/profile"}};localStorage.getItem("user")&&z.push("/profile");var G=function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(!0),a.preventDefault(),t.prev=2,t.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/signup",{firstName:l,lastName:g,email:w,password:S,repeatPassword:I});case 5:n=t.sent,r=n.data,localStorage.setItem("user",JSON.stringify(r.response)),e.onAuth(!0),z.push(B.from.pathname),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),P(!1),W(t.t0.response.data.response),console.log(t.t0.response.data.response);case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{resMessage:A}),r.a.createElement("section",{className:"signup"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Let's get started..."),r.a.createElement("h1",{className:"headerSection"},"Sign up"),r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:G},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{id:"firstName",placeholder:"First Name",type:"text",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{id:"lastName",placeholder:"Last Name",type:"text",value:g,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:w,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:S,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"Repeat password"},"Repeat password"),r.a.createElement("input",{id:"repeatPassword",placeholder:"repeatPassword",type:"password",value:I,onChange:function(e){return D(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(l&&g&&w.length>0&&S.length>=8&&I===S&&t.test(w)),type:"submit"},T?"Loading":"Sign up"))))))},T=function(e){var t=e.setSearchID,a=Object(p.g)(),c=Object(n.useState)(!1),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),E=g[0],f=g[1],b=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===t.target.value.length?N():v(),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/search?term=".concat(t.target.value));case 4:a=e.sent,n=a.data.response,r=n.users,c=n.wishlists,r.concat(c),f({wishlists:c,users:r}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),f(e.t0.response.data.response),console.log(e.t0.response.data.response);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){u(!0)},N=function(e){e&&(e.target.value=""),setTimeout((function(){f(""),u(!1)}),200)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{id:"frmSearch"},s?r.a.createElement("input",{onInput:b,onFocus:v,onBlur:N,className:0===E.length?"active":"active activeResults",id:"search",type:"text",placeholder:"Search on Wishful"}):r.a.createElement("input",{onInput:b,onFocus:v,onBlur:N,id:"search",type:"text",placeholder:"\uf002"})),E?r.a.createElement("div",{className:"searchResults"},E.users&&0!==E.users.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("strong",null,"Users")),E.users.map((function(e,n){return r.a.createElement("p",{className:"btnResult",id:e.ID,onClick:function(){return function(e){t(e.ID),a.push("/profile/".concat(e.ID))}(e)},key:n},e.firstName," ",e.lastName)}))):null,E.wishlists&&0!==E.wishlists.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("strong",null,"Wishlists")),E.wishlists.map((function(e,n){return r.a.createElement("p",{className:"btnResult",id:e.ID,onClick:function(){return function(e){t(e.userID),a.push("/profile/".concat(e.userID,"/wishlist/").concat(e.ID))}(e)},key:n},e.name)}))):null):"No result"===E?r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,E)):null)},P=a(38),M=function(e){var t=e.setUpdate,a=e.fetchWishlist,c=e.showMessage,l=e.singleWishlist,s=Object(n.useState)(!1),u=Object(m.a)(s,2),p=u[0],d=u[1],g=l.name.charAt(0),E=Object(n.useState)(l.name),f=Object(m.a)(E,2),b=f[0],v=f[1],N=Object(n.useState)(l.description),w=Object(m.a)(N,2),j=w[0],O=w[1],y=Object(n.useState)(l.isPublic),S=Object(m.a)(y,2),k=S[0],x=S[1],C=function(){return b.length>0&&j.length>0},I=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(l.ID),{name:b,description:j,isPublic:k});case 5:r=e.sent,s=r.data,console.log(r),a(),t(!1),d(!1),c(s.message),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),d(!1),c(e.t0.response.data.response),console.log(e.t0.response.data.response);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"updateWishlist relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",onClick:function(){return t(!1)}},"Back"),r.a.createElement("div",{className:"coverletter"},g),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's update your wishlist"),r.a.createElement("h3",null,l.name)),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:I},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",placeholder:"Name",type:"text",onChange:function(e){return v(e.target.value)},value:b})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{id:"description",placeholder:"Description",type:"text",onChange:function(e){return O(e.target.value)},value:j})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{className:"label",htmlFor:"public"},"Public"),r.a.createElement("div",{className:"box"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{id:"public",type:"checkbox",onChange:function(e){return e.target.checked?x(1):x(0)},checked:!!k}),r.a.createElement("span",{className:"slider round"}))))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C(),type:"submit"},p?"Loading...":"Save"))))},A=a(39),W=function(e){var t=e.wishlistID,a=e.KeyLink,c=e.setOpen,l=e.fetchWishlist,s=e.showMessage,u=Object(n.useState)(!1),p=Object(m.a)(u,2),d=p[0],g=p[1],E=Object(n.useState)(0),f=Object(m.a)(E,2),b=f[0],v=f[1],N=Object(n.useState)([]),w=Object(m.a)(N,2),j=w[0],O=w[1],y=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,i,m,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.get("http://api.linkpreview.net/?key=".concat(a,"&q=").concat(j),{withCredentials:!1});case 5:return r=e.sent,i=r.data,m=""===i.image?i.image="/images/imageThumbnail.png":i.image,console.log(m),e.next=11,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(t,"/item"),{title:i.title,description:i.description,price:b,link:i.url,image:m});case 11:u=e.sent,p=u.data,console.log(p),g(!1),l(),c(!1),s(p.message),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),g(!1),s(e.t0.response.data.response),console.log(e.t0.response.data.response);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"createWishlistItem relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return c(!1)}},"Back"),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Almost done..."),r.a.createElement("h1",{className:"headerSection"},"Simply link the item of your dreams")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:y},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"price"}),r.a.createElement("input",{onChange:function(e){return v(e.target.value)},type:"text",name:"price",placeholder:"Price in DKK"})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"link"}),r.a.createElement("input",{onChange:function(e){return O(e.target.value)},type:"text",name:"link",placeholder:"Link to the item"}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{id:t,type:"submit",className:"active marginTopSmall",disabled:!(j.length>0&&parseInt(b))},d?"Loading...":"Save item"))))},z=function(e){var t=P.KeyLink,a=e.searchID,c=v(null),l=c.message,s=c.showMessage,u=Object(p.g)(),d=Object(n.useState)(!1),g=Object(m.a)(d,2),E=g[0],b=g[1],w=j(null),y=w.promptMessage,S=w.promptHeader,k=w.showPromptMessage,x=w.closePromptMessage,C=e.match.params.wishlistID,I=e.match.params.ID?"public":void 0,D=e.match.params.ID,F=Object(n.useState)({}),L=Object(m.a)(F,2),T=L[0],z=L[1],B=Object(n.useState)([]),G=Object(m.a)(B,2),R=G[0],_=G[1],H=Object(n.useState)([]),q=Object(m.a)(H,2),Z=q[0],K=q[1],U=Object(n.useState)(""),J=Object(m.a)(U,2),$=J[0],X=J[1],Y=Object(n.useState)(""),V=Object(m.a)(Y,2),Q=V[0],ee=V[1],te=Object(n.useState)(!1),ae=Object(m.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!1),le=Object(m.a)(ce,2),se=le[0],oe=le[1],ie=Object(n.useState)(!1),me=Object(m.a)(ie,2),ue=me[0],pe=me[1],de=Object(n.useState)(!1),ge=Object(m.a)(de,2),he=ge[0],Ee=ge[1],fe=Object(n.useState)(""),be=Object(m.a)(fe,2),ve=be[0],Ne=be[1],we=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,I){e.next=8;break}return e.next=5,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(C));case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/profile/".concat(D,"/wishlists/").concat(C));case 10:t=e.sent;case 11:a=t.data,console.log(a),z(a.list),_(a.items),b(!1),ee(a.list.name.charAt(0)),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),b(!1),s(e.t0.response.data.response),console.log(e.t0.response.data.response);case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){we()}),[]);var je=function(e,t,a){oe(t),"item"===t&&X(a)},Oe=function(e,t){e.preventDefault(),Ne(t),"item"===t?(K(e.target.id),k("Wait...","Are you sure you want to delete this item from your wishlist?")):(e.preventDefault(),k("Wait...","Are you sure you want to delete your wishlist?"))},ye=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,"item"!==ve){e.next=9;break}return e.next=5,h.a.get("http://localhost:9090/wishlists/".concat(C,"/item/").concat(Z,"/delete"));case 5:t=e.sent,we(),e.next=13;break;case 9:return e.next=11,h.a.get("http://localhost:9090/wishlists/".concat(C,"/delete"));case 11:t=e.sent,u.goBack();case 13:a=t.data.response,console.log(a),b(!1),x(),s(a),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(1),b(!1),s(e.t0.response.data.response),console.log(e.t0.response.data.response);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(f,null):null,r.a.createElement(N,{resMessage:l}),!I&&y?r.a.createElement(O,{resPromptMessage:y,resPromptHeader:S,cancelAction:x,confirmAction:ye,loading:E}):null,ne||se?ne?r.a.createElement(W,{KeyLink:t,setOpen:function(e){return re(e)},fetchWishlist:function(){return we()},showMessage:function(e){return s(e)},wishlistID:C}):"wishlist"===se?r.a.createElement(M,{setUpdate:function(e){return oe(e)},fetchWishlist:function(){return we()},showMessage:function(e){return s(e)},singleWishlist:T}):"item"===se?r.a.createElement(A.a,{KeyLink:t,ID:Z,wishlistItem:$,setOpen:function(e){return oe(e)},fetchWishlist:function(){return we()},showMessage:function(e){return s(e)},wishlistID:C}):null:r.a.createElement("section",{className:"singleWishlist relative marginTopSmall"},r.a.createElement("button",{className:"secondary absolute textLeft",type:"button",onClick:function(){return u.goBack()}},"Back"),a?r.a.createElement("button",{className:"secondary textLeft",type:"button",onClick:function(){return u.push("/profile/".concat(a))}},"View users profile"):null,r.a.createElement("div",{className:"coverletter"},Q),r.a.createElement(r.a.Fragment,null,0!==R.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner grid gridTwoThirds"},r.a.createElement("div",null,r.a.createElement("h2",null,"Overview"),r.a.createElement("h1",null,T.name),r.a.createElement("h3",null,T.description),r.a.createElement("div",{className:"btnContainer grid gridTwoColumns justifyContentLeft"},I?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"secondary textLeft",onClick:function(e){return je(0,"wishlist")}},"Edit ",T.name),r.a.createElement("button",{className:"secondary textLeft",type:"button",onClick:function(e){return Oe(e,"wishlist")}},"Delete ",T.name)))),I?null:r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"active",onClick:function(){return re(!0)}},"Add item")))),r.a.createElement("div",{className:"wishlistItems grid container gridTwoColumns gridGapSmall"},ue?r.a.createElement(r.a.Fragment,null,R.map((function(e,t){return r.a.createElement("div",{className:"wishlistItem relative grid gridGapMedium",id:e.ID,key:t},r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("div",{className:"img bgContain",style:{backgroundImage:"url(".concat(e.image,")")}})),r.a.createElement("div",{className:"grid paddingSmall"},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,e.description.length>70?r.a.createElement(r.a.Fragment,null,he?r.a.createElement("p",null,e.description):r.a.createElement("p",null,e.description.substring(0,70),"..."),r.a.createElement("button",{className:"secondary text-center",onClick:function(){return Ee(!he)}},he?"Show less":"Show more")):r.a.createElement("p",null,e.description)),r.a.createElement("p",{className:"alignSelfTop textRight"},e.price),r.a.createElement("div",{id:e.ID,className:I?"grid justifyContentCenter alignSelfCenter paddingSmall":"grid gridTwoColumns justifyContentCenter alignSelfCenter paddingSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},"See item"),I?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:e.ID,className:"secondary absolute right",onClick:function(e){return Oe(e,"item")}},"X"),r.a.createElement("button",{className:"secondary",onClick:function(t){return je(0,"item",e)}},"Edit item"))))))}))):r.a.createElement(r.a.Fragment,null,R.map((function(e,t){return t<4?r.a.createElement("div",{className:"wishlistItem relative grid gridGapMedium",id:e.ID,key:t},r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("div",{className:"img bgContain",style:{backgroundImage:"url(".concat(e.image,")")}})),r.a.createElement("div",{className:"grid paddingSmall"},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,e.description.length>70?r.a.createElement(r.a.Fragment,null,he?r.a.createElement("p",null,e.description):r.a.createElement("p",null,e.description.substring(0,70),"..."),r.a.createElement("button",{className:"secondary textRight",onClick:function(){return Ee(!he)}},he?"Show less":"Show more")):r.a.createElement("p",null,e.description)),r.a.createElement("p",{className:"alignSelfTop textRight"},e.price),r.a.createElement("div",{className:I?"grid justifyContentCenter alignSelfCenter paddingSmall":"grid gridTwoColumns justifyContentCenter alignSelfCenter paddingSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},"See item"),I?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:e.ID,className:"secondary absolute right",onClick:function(e){return Oe(e,"item")}},"X"),r.a.createElement("button",{className:"secondary",onClick:function(t){return je(0,"item",e)}},"Edit item")))))):null})))),R.length>4&&!ue?r.a.createElement("div",{className:"grid container justifyContentCenter"},r.a.createElement("button",{className:"secondary text-center",onClick:function(){return pe(!0)}},"Show all")):R.length>4&&ue?r.a.createElement("div",{className:"grid container justifyContentCenter marginTopSmall"},r.a.createElement("button",{className:"secondary text-center",onClick:function(){return pe(!1)}},"Show less")):null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner grid gridTwoThirds"},I?r.a.createElement("div",null,r.a.createElement("p",null,"This wishlist has no wishes yet..."),r.a.createElement("h1",{className:"headerSection"},"Stay tuned for wishes")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,"You have no wishes yet for ",T.name,"..."),r.a.createElement("h1",null,"Start making them come true today"),r.a.createElement("div",{className:"btnContainer grid gridTwoColumns justifyContentLeft"},r.a.createElement("button",{className:"secondary textLeft",onClick:function(e){return je(0,"wishlist")}},"Edit ",T.name),r.a.createElement("button",{className:"secondary textLeft",type:"button",onClick:function(e){return Oe(e,"wishlist")}},"Delete ",T.name))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"active",onClick:function(){return re(!0)}},"Add item")))))))))};h.a.defaults.withCredentials=!0;var B=function(e){var t=e.component,a=e.auth,n=Object(u.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a||localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},G=function(e){var t=Object(n.useState)(!!localStorage.getItem("user")),a=Object(m.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/authorize");case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(e){l(e)},g=function(){l(!1)},E=Object(n.useState)(!1),f=Object(m.a)(E,2),v=f[0],N=f[1];return console.log(v),Object(n.useEffect)((function(){return console.log("Mounting and fecthing auth - currently auth is "+c),s(),function(){return console.log("Unmounting...")}}),[c]),r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"Navigation"},r.a.createElement("ul",{style:c?{gridTemplateColumns:"repeat(5, 1fr)"}:{gridTemplateColumns:"repeat(4, 1fr)"}},r.a.createElement("header",null,r.a.createElement(d.b,{to:"".concat("","/")},"Wishful")),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/"),exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/wishlists")},"Your wishlists")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/profile")},"Profile")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/logout")},"Log out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/"),exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/login")},"Login")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/signup")},"Sign up"))))),r.a.createElement("main",{className:!1===c?"public":""},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"".concat("","/"),component:function(e){return r.a.createElement(b,Object.assign({},e,{auth:c}))}}),r.a.createElement(B,{exact:!0,auth:c,path:"".concat("","/wishlists"),component:function(e){return r.a.createElement(x,e)}}),r.a.createElement(B,{exact:!0,path:"".concat("","/wishlists/wishlist/:wishlistID"),component:function(e){return r.a.createElement(z,e)}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/profile/:ID/wishlist/:wishlistID"),component:function(e){return r.a.createElement(z,Object.assign({searchID:v},e))}}),r.a.createElement(B,{exact:!0,auth:c,path:"".concat("","/profile"),component:function(e){return r.a.createElement(y,Object.assign({onUnAuth:g},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/login"),component:function(e){return r.a.createElement(w,Object.assign({auth:c,onAuth:u},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/signup"),component:function(e){return r.a.createElement(L,Object.assign({onAuth:u},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/profile/:ID"),component:function(e){return r.a.createElement(C,Object.assign({searchID:v},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/logout"),component:function(e){return r.a.createElement(I,Object.assign({onAuth:g},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/confirmReset/:token"),component:function(e){return r.a.createElement(D,e)}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/requestReset"),component:function(e){return r.a.createElement(F,e)}})),r.a.createElement(T,{setSearchID:function(e){return N(e)}}),r.a.createElement("div",{className:"colorBlockContainer grid"},r.a.createElement("div",{className:"colorBlock bgGreen"}),r.a.createElement("div",{className:"colorBlock grid gridTwoColumns"},r.a.createElement("div",{className:"bgPurple"}),r.a.createElement("div",{className:"bgBlue"})))),r.a.createElement("footer",null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.123a3e43.chunk.js.map