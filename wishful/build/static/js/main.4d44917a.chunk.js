(this.webpackJsonpquizdom=this.webpackJsonpquizdom||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){},33:function(e,t,a){},38:function(e){e.exports=JSON.parse('{"APICategories":"https://openapi.etsy.com/v2/listings/active?fields=title,quantity,category_id,url,taxonomy_path&","APIProducts":" https://openapi.etsy.com/v2/listings/active?","KeyLink":"0933a188c8173650bd78979a9596eacc","KeyEtsy":"api_key=gjiz0w75be02n5smg02gxvje"}')},39:function(e,t,a){"use strict";(function(e){var n=a(2),r=a.n(n),c=a(4),l=a(1),s=a(0),o=a.n(s),i=(a(15),a(3)),m=a.n(i),u=a(95);t.a=function(t){var a=t.wishlistID,n=t.KeyLink,i=t.wishlistItem,p=t.setOpen,d=t.fetchWishlist,g=t.showMessage,h=Object(s.useState)(!1),f=Object(l.a)(h,2),E=f[0],v=f[1],b=Object(s.useState)(i.price),N=Object(l.a)(b,2),w=N[0],O=N[1],j=Object(s.useState)(i.link),y=Object(l.a)(j,2),S=y[0],k=y[1];console.log(i);var x=function(){var t=Object(c.a)(r.a.mark((function t(c){var l,s,o,h,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),c.preventDefault(),console.log(i),t.prev=3,t.next=6,m.a.get("http://api.linkpreview.net/?key=".concat(n,"&q=").concat(S),{withCredentials:!1});case 6:return l=t.sent,s=l.data,console.log(u.join(e,"..","..","..","images","imageThumbnail.png")),o=""===s.image?s.image="https://dummyimage.com/400x400/494949/f9f9f9.png&text=No+image":s.image,console.log(o),t.next=13,m.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(a,"/item/").concat(i.ID),{title:s.title,description:s.description,price:w,link:s.url,image:o});case 13:h=t.sent,f=h.data,console.log(f),v(!1),d(),p(!1),g(f.message),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(3),v(!1),g(t.t0.response.data.response),console.log(t.t0.response.data.response);case 27:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("section",{className:"updateWishlistItem relative"},o.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return p(!1)}},"Back"),o.a.createElement("div",{className:"banner"},o.a.createElement("h2",null,"Almost done..."),o.a.createElement("h1",null,"Simply link the item of your dreams")),o.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:x},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"container grid"},o.a.createElement("label",{htmlFor:"price"},"Price"),o.a.createElement("input",{onChange:function(e){return O(e.target.value)},type:"text",name:"price",value:w,placeholder:"Price in DKK"})),o.a.createElement("div",{className:"container grid"},o.a.createElement("label",{htmlFor:"link"},"Link"),o.a.createElement("input",{onChange:function(e){return k(e.target.value)},type:"text",name:"link",value:S,placeholder:"Link to the item"}))),o.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},o.a.createElement("button",{id:i.ID,type:"submit",className:"active",disabled:!(S.length>0&&parseInt(w))},E?"Loading...":"Save item"))))}}).call(this,"/")},41:function(e,t,a){e.exports=a(96)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=(a(46),a(2)),o=a.n(s),i=a(4),m=a(1),u=a(40),p=(a(48),a(21),a(13)),d=a(7),g=(a(49),a(3)),h=a.n(g),f=a(35),E=function(){return r.a.createElement("div",{className:"Loader-wrapper"},r.a.createElement(f.BounceLoader,{color:"white",className:"Loader"}))},v=function(e){var t=e.auth,a=Object(p.g)(),c=Object(n.useState)(""),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),f=g[0],v=g[1],b=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile");case 3:t=e.sent,a=t.data.response,u(a),setTimeout((function(){v(!1)}),100),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),v(!1),console.log(e.t0.response.data.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&(console.log(t),b())}),[]),r.a.createElement("section",{className:"home"},f?r.a.createElement(E,null):null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome back to"),r.a.createElement("h1",null,"Wishful, ",s?s.firstName:null),r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall container"},r.a.createElement("button",{className:"active",onClick:function(){return a.push("/profile")}},"Go to your profile"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome to"),r.a.createElement("h1",null,"Wishful"),r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall container"},r.a.createElement("button",{className:"active",onClick:function(){return a.push("/signup")}},"Signup with email"),r.a.createElement("button",{onClick:function(){return a.push("/login")}},"Login to my account"))))},b=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1];return{message:r,showMessage:function(e){c(e),document.querySelector(".message").classList.add("appear"),setTimeout((function(){document.querySelector(".message").classList.remove("appear")}),5e3)}}},N=function(e){var t=e.resMessage;return r.a.createElement("div",{className:"message"},r.a.createElement("p",null," ",t," "))},w=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],f=d[1],E=Object(n.useState)(!1),v=Object(m.a)(E,2),w=v[0],O=v[1],j=b(null),y=j.message,S=j.showMessage,k=Object(p.g)(),x=e.location.state||{from:{pathname:"profile"}};localStorage.getItem("user")&&k.push("/profile");var C=function(){var t=Object(i.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,O(!0),t.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/login",{email:l,password:g});case 5:n=t.sent,e.onAuth(!0),console.log("logging in"),localStorage.setItem("user",JSON.stringify(n.data)),console.log(JSON.parse(localStorage.user)),k.push(x.from.pathname),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),O(!1),S(t.t0.response.data.response),console.log(t.t0.response.data.response);case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{resMessage:y}),r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's login!")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:C},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:g,onChange:function(e){return f(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(l.length>0&&g.length>=8&&t.test(l)),type:"submit"},w?"Loading...":"Login"),r.a.createElement("button",{className:"marginTopSmall",onClick:function(){console.log("User requested a new password"),k.push("/requestReset")},type:"button"},"Forgotten your password ?")))))},O=(a(33),function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(e),s=Object(m.a)(l,2),o=s[0],i=s[1];return{promptMessage:r,promptHeader:o,showPromptMessage:function(e,t){console.log(t),console.log(e),c(t),i(e)},closePromptMessage:function(){c(null)}}}),j=function(e){var t=e.resPromptMessage,a=e.resPromptHeader,n=e.cancelAction,c=e.confirmAction,l=e.loading;return r.a.createElement("div",{className:"bgPrompt"},r.a.createElement("div",{className:"prompt alignItemsCenter"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,a),r.a.createElement("h1",{className:"headerPrompt"},t)),r.a.createElement("div",{className:"grid gridTwoColumns alignItemsBottom gridGapSmall"},r.a.createElement("button",{className:"active",onClick:c},l?"Loading...":"Confirm"),r.a.createElement("button",{className:"marginTopSmall",onClick:n},"Cancel"))))},y=function(e){var t=Object(p.g)(),a=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,c=Object(n.useState)([]),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),f=g[0],v=g[1],w=Object(n.useState)(""),y=Object(m.a)(w,2),S=y[0],k=y[1],x=Object(n.useState)(""),C=Object(m.a)(x,2),I=C[0],F=C[1],D=Object(n.useState)(!1),L=Object(m.a)(D,2),P=L[0],T=L[1],W=Object(n.useState)(!0),M=Object(m.a)(W,2),A=M[0],z=M[1],B=b(null),G=B.message,R=B.showMessage,_=O(null),H=_.promptMessage,q=_.promptHeader,Z=_.showPromptMessage,K=_.closePromptMessage,U=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile");case 4:t=e.sent,a=t.data.response,u(a),v(a.email),k(a.firstName),F(a.lastName),setTimeout((function(){z(!1)}),100),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),z(!1),R(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){return f?a.test(f):!!(f||S||I)},$=function(){var a=Object(i.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return z(!0),a.prev=1,a.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/delete");case 4:n=a.sent,console.log(n),e.onUnAuth(!1),t.push("/"),z(!1),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),z(!1),R(a.t0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(){return a.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),t.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile",{email:f,firstName:S,lastName:I});case 5:a=e.sent,console.log(a),n=a.data,console.log(n),U(),z(!1),T(!1),R(n.response),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),z(!1),R(e.t0.response.data.response),console.log(e.t0.response.data.response);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[]),r.a.createElement(r.a.Fragment,null,A?r.a.createElement(E,null):null,r.a.createElement(N,{resMessage:G}),H?r.a.createElement(j,{resPromptMessage:H,resPromptHeader:q,cancelAction:K,confirmAction:$,loading:A}):null,!1===P?r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Welcome to Wishful"),r.a.createElement("h1",null," ",s.firstName)),r.a.createElement("div",{className:"grid gridGapSmall gridTwoColumns container"},r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("p",{className:"name"},S||s.firstName)),r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("p",{className:"name"},I||s.lastName)),r.a.createElement("div",{className:"grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("p",{className:"name"},f||s.email))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:"active grid alignSelfBottom",onClick:function(){T(!0)}},"Update profile")))):r.a.createElement("section",{className:"profile update"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Whatever you want to change..."),r.a.createElement("h1",null,"Let's update your information")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:X},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{className:"firstName",id:"firstName",placeholder:"First name",value:S,type:"text",onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{className:"lastName",id:"lastName",placeholder:"Last name",value:I,type:"text",onChange:function(e){return F(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"email",id:"email",placeholder:"E-mail",value:f,type:"email",onChange:function(e){return v(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:J()?"active":"",disabled:!J(),type:"submit"},A?"Loading...":"Save"),r.a.createElement("button",{type:"button",className:"marginTopSmall",onClick:function(){return T(!1)}},"Cancel"),r.a.createElement("button",{type:"button",className:"btnDelete secondary absolute right",onClick:function(e){e.preventDefault(),console.log("deleting"),Z("Wait...","Are you sure you want to delete your profile?")}},"Delete profile")))))},S=a(38),k=(a(15),function(e){var t=e.setUpdate,a=e.fetchWishlist,c=e.showMessage,l=e.singleWishlist,s=Object(n.useState)(!1),u=Object(m.a)(s,2),p=u[0],d=u[1],g=l.name.charAt(0),f=Object(n.useState)(l.name),E=Object(m.a)(f,2),v=E[0],b=E[1],N=Object(n.useState)(l.description),w=Object(m.a)(N,2),O=w[0],j=w[1],y=Object(n.useState)(l.isPublic),S=Object(m.a)(y,2),k=S[0],x=S[1],C=function(){return v.length>0&&O.length>0},I=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(l.ID),{name:v,description:O,isPublic:k});case 5:r=e.sent,s=r.data,console.log(r),a(),t(!1),d(!1),c(s.message),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),d(!1),c(e.t0.response.data.response),console.log(e.t0.response.data.response);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"updateWishlist relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",onClick:function(){return t(!1)}},"Back"),r.a.createElement("div",{className:"coverletter"},g),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's update your wishlist"),r.a.createElement("h3",null,l.name)),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:I},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",placeholder:"Name",type:"text",onChange:function(e){return b(e.target.value)},value:v})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{id:"description",placeholder:"Description",type:"text",onChange:function(e){return j(e.target.value)},value:O})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{className:"label",htmlFor:"public"},"Public"),r.a.createElement("div",{className:"box"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{id:"public",type:"checkbox",onChange:function(e){return e.target.checked?x(1):x(0)},checked:!!k}),r.a.createElement("span",{className:"slider round"}))))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C(),type:"submit"},p?"Loading...":"Save"))))}),x=a(39),C=function(e){var t=e.wishlistID,a=e.KeyLink,c=e.setOpen,l=e.fetchWishlist,s=e.showMessage,u=Object(n.useState)(!1),p=Object(m.a)(u,2),d=p[0],g=p[1],f=Object(n.useState)(0),E=Object(m.a)(f,2),v=E[0],b=E[1],N=Object(n.useState)([]),w=Object(m.a)(N,2),O=w[0],j=w[1],y=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,i,m,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.get("http://api.linkpreview.net/?key=".concat(a,"&q=").concat(O),{withCredentials:!1});case 5:return r=e.sent,i=r.data,m=""===i.image?i.image="https://dummyimage.com/400x400/494949/f9f9f9.png&text=No+image":i.image,console.log(m),e.next=11,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(t,"/item"),{title:i.title,description:i.description,price:v,link:i.url,image:m});case 11:u=e.sent,p=u.data,console.log(p),g(!1),l(),c(!1),s(p.message),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),g(!1),s(e.t0.response.data.response),console.log(e.t0.response.data.response);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"createWishlistItem relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return c(!1)}},"Back"),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Almost done..."),r.a.createElement("h1",{className:"headerSection"},"Simply link the item of your dreams")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:y},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"price"}),r.a.createElement("input",{onChange:function(e){return b(e.target.value)},type:"text",name:"price",placeholder:"Price in DKK"})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"link"}),r.a.createElement("input",{onChange:function(e){return j(e.target.value)},type:"text",name:"link",placeholder:"Link to the item"}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{id:t,type:"submit",className:"active marginTopSmall",disabled:!(O.length>0&&parseInt(v))},d?"Loading...":"Save item"))))},I=function(e){var t=e.userID,a=e.context,c=e.wishlist,l=e.ID,s=e.openWishlist,u=e.fetchWishlists,p=e.showMessage,d=S.KeyLink,g=Object(n.useState)(!1),f=Object(m.a)(g,2),v=f[0],b=f[1],N=O(null),w=N.promptMessage,y=N.promptHeader,I=N.showPromptMessage,F=N.closePromptMessage,D=c.name.charAt(0),L=Object(n.useState)(!1),P=Object(m.a)(L,2),T=P[0],W=P[1],M=Object(n.useState)(!1),A=Object(m.a)(M,2),z=A[0],B=A[1],G=Object(n.useState)(!1),R=Object(m.a)(G,2),_=R[0],H=R[1],q=Object(n.useState)(!1),Z=Object(m.a)(q,2),K=Z[0],U=Z[1],J=Object(n.useState)(""),$=Object(m.a)(J,2),X=$[0],Y=$[1],Q=Object(n.useState)(c),V=Object(m.a)(Q,2),ee=V[0],te=V[1],ae=Object(n.useState)([]),ne=Object(m.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)([]),se=Object(m.a)(le,2),oe=se[0],ie=se[1],me=Object(n.useState)(""),ue=Object(m.a)(me,2),pe=ue[0],de=ue[1],ge=function(){var e=Object(i.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,a){e.next=8;break}return e.next=5,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(l));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/profile/".concat(t,"/wishlists/").concat(l));case 10:n=e.sent;case 11:r=n.data,console.log(r),te(r.list),ce(r.items),b(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(1),b(!1),p(e.t0.response.data.response),console.log(e.t0.response.data.response);case 23:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ge()}),[]);var he=function(e,t,a){B(t),"item"===t&&de(a)},fe=function(e,t){e.preventDefault(),Y(t),"item"===t?(ie(e.target.id),I("Wait...","Are you sure you want to delete this item from your wishlist?")):(e.preventDefault(),I("Wait...","Are you sure you want to delete your wishlist?"))},Ee=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,"item"!==X){e.next=9;break}return e.next=5,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(l,"/item/").concat(oe,"/delete"));case 5:t=e.sent,ge(),e.next=14;break;case 9:return e.next=11,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists/".concat(l,"/delete"));case 11:t=e.sent,s([]),u();case 14:a=t.data.response,console.log(a),b(!1),F(),p(a),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),b(!1),p(e.t0.response.data.response),console.log(e.t0.response.data.response);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,v?r.a.createElement(E,null):null,!a&&w?r.a.createElement(j,{resPromptMessage:w,resPromptHeader:y,cancelAction:F,confirmAction:Ee,loading:v}):null,T||z?T?r.a.createElement(C,{KeyLink:d,setOpen:function(e){return W(e)},fetchWishlist:function(){return ge()},showMessage:function(e){return p(e)},wishlistID:l}):"wishlist"===z?r.a.createElement(k,{setUpdate:function(e){return B(e)},fetchWishlist:function(){return ge()},showMessage:function(e){return p(e)},singleWishlist:ee}):"item"===z?r.a.createElement(x.a,{KeyLink:d,ID:oe,wishlistItem:pe,setOpen:function(e){return B(e)},fetchWishlist:function(){return ge()},showMessage:function(e){return p(e)},wishlistID:l}):null:r.a.createElement("section",{className:"singleWishlist relative marginTopSmall"},r.a.createElement("button",{className:"secondary absolute textLeft",type:"button",onClick:function(){return s([])}},"Back"),r.a.createElement("div",{className:"coverletter"},D),r.a.createElement(r.a.Fragment,null,0!==re.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner grid gridTwoThirds"},r.a.createElement("div",null,r.a.createElement("h2",null,"Overview"),r.a.createElement("h1",null,ee.name),r.a.createElement("h3",null,ee.description),r.a.createElement("div",{className:"btnContainer grid gridTwoColumns justifyContentLeft"},r.a.createElement("button",{className:"secondary textLeft",onClick:function(e){return he(0,"wishlist")}},"Edit ",ee.name),r.a.createElement("button",{className:"secondary textLeft",type:"button",onClick:function(e){return fe(e,"wishlist")}},"Delete ",ee.name))),a?null:r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"active",onClick:function(){return W(!0)}},"Add item")))),r.a.createElement("div",{className:"wishlistItems grid container gridTwoColumns gridGapSmall"},_?r.a.createElement(r.a.Fragment,null,re.map((function(e,t){return r.a.createElement("div",{className:"wishlistItem relative grid gridGapMedium",id:e.ID,key:t},r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("div",{className:"img bgCover",style:{backgroundImage:"url(".concat(e.image,")")}})),r.a.createElement("div",{className:"grid paddingSmall"},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,e.description.length>70?r.a.createElement(r.a.Fragment,null,K?r.a.createElement("p",null,e.description):r.a.createElement("p",null,e.description.substring(0,70),"..."),r.a.createElement("button",{className:"secondary text-center",onClick:function(){return U(!K)}},K?"Show less":"Show more")):r.a.createElement("p",null,e.description)),r.a.createElement("p",{className:"alignSelfTop textRight"},e.price),r.a.createElement("div",{id:e.ID,className:"grid gridTwoColumns justifyContentCenter alignSelfCenter paddingSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},"See item"),a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:e.ID,className:"secondary absolute",onClick:function(e){return fe(e,"item")}},"X"),r.a.createElement("button",{className:"secondary",onClick:function(t){return he(0,"item",e)}},"Update item"))))))}))):r.a.createElement(r.a.Fragment,null,re.map((function(e,t){return t<4?r.a.createElement("div",{className:"wishlistItem relative grid gridGapMedium",id:e.ID,key:t},r.a.createElement("div",{className:"grid gridTwoColumns gridGapSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("div",{className:"img bgCover",style:{backgroundImage:"url(".concat(e.image,")")}})),r.a.createElement("div",{className:"grid paddingSmall"},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,e.description.length>70?r.a.createElement(r.a.Fragment,null,K?r.a.createElement("p",null,e.description):r.a.createElement("p",null,e.description.substring(0,70),"..."),r.a.createElement("button",{className:"secondary textRight",onClick:function(){return U(!K)}},K?"Show less":"Show more")):r.a.createElement("p",null,e.description)),r.a.createElement("p",{className:"alignSelfTop textRight"},e.price),r.a.createElement("div",{className:"grid gridTwoColumns justifyContentCenter alignSelfCenter paddingSmall"},r.a.createElement("a",{className:"secondary text-center",href:e.link,rel:"noopener noreferrer",target:"_blank"},"See item"),a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:e.ID,className:"secondary absolute right",onClick:function(e){return fe(e,"item")}},"X"),r.a.createElement("button",{className:"secondary",onClick:function(t){return he(0,"item",e)}},"Edit item")))))):null})))),r.a.createElement("div",{className:"grid container justifyContentCenter"},re.length>4&&!_?r.a.createElement("button",{className:"secondary text-center",onClick:function(){return H(!0)}},"Show all"):re.length>4&&_?r.a.createElement("button",{className:"secondary text-center",onClick:function(){return H(!1)}},"Show less"):null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner grid gridTwoThirds"},a?r.a.createElement("div",null,r.a.createElement("p",null,"This wishlist has no wishes yet..."),r.a.createElement("h1",{className:"headerSection"},"Stay tuned for wishes")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,"You have no wishes yet for ",ee.name,"..."),r.a.createElement("h1",null,"Start making them come true today"),r.a.createElement("div",{className:"btnContainer grid gridTwoColumns justifyContentLeft"},r.a.createElement("button",{className:"secondary textLeft",onClick:function(e){return he(0,"wishlist")}},"Edit ",ee.name),r.a.createElement("button",{className:"secondary textLeft",type:"button",onClick:function(e){return fe(e,"wishlist")}},"Delete ",ee.name))),r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"active",onClick:function(){return W(!0)}},"Add item")))))))))},F=function(e){var t=e.setUpdate,a=e.fetchWishlists,c=e.showMessage,l=Object(n.useState)(!1),s=Object(m.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)([]),g=Object(m.a)(d,2),f=g[0],E=g[1],v=Object(n.useState)(""),b=Object(m.a)(v,2),N=b[0],w=b[1],O=Object(n.useState)(1),j=Object(m.a)(O,2),y=j[0],S=j[1],k=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n.preventDefault(),e.prev=2,e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists",{name:f,description:N,isPublic:y});case 5:r=e.sent,l=r.data,a(),t(!1),p(!1),c(l.message),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),p(!1),c(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"createWishlist relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",onClick:function(){return t(!1)}},"Back"),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go..."),r.a.createElement("h1",null,"Let's create a wishlist!")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:k},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",placeholder:"Name",type:"text",onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{id:"description",placeholder:"Description",type:"text",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{className:"label",htmlFor:"public"},"Do you want your wishlist to be public?"),r.a.createElement("div",{className:"box"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{id:"public",defaultChecked:!0,type:"checkbox",onChange:function(e){return e.target.checked?S(1):S(0)}}),r.a.createElement("span",{className:"slider round"}))))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(f.length>0&&N.length>0),type:"submit"},u?"Loading...":"Save"))))},D=function(e){var t=e.i,a=e.wishlist,n=e.fetchSingleWishlist,c=a.name.charAt(0);return r.a.createElement("button",{className:"btnSingleWishlist relative",description:a.description,name:a.name,id:a.ID,onClick:function(e){e.preventDefault(),n(a)},key:t},r.a.createElement("div",{className:"coverletter"},c),r.a.createElement("span",null,r.a.createElement("h2",{id:a.ID},a.name),r.a.createElement("p",{id:a.ID},a.description)))},L=function(e){var t=e.userID,a=e.context,c=Object(p.g)(),l=b(null),s=l.message,u=l.showMessage,d=Object(n.useState)(!1),g=Object(m.a)(d,2),f=g[0],v=g[1],w=Object(n.useState)(!1),O=Object(m.a)(w,2),j=O[0],y=O[1],S=Object(n.useState)([]),k=Object(m.a)(S,2),x=k[0],C=k[1],L=Object(n.useState)([]),P=Object(m.a)(L,2),T=P[0],W=P[1];Object(n.useEffect)((function(){M()}),[]);var M=function(){var e=Object(i.a)(o.a.mark((function e(){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,!a){e.next=8;break}return e.next=5,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/profile/".concat(t,"/wishlists/"));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/wishlists");case 10:n=e.sent;case 11:r=n.data.response,c=r.map((function(e){return{ID:"".concat(e.ID),name:"".concat(e.name),description:"".concat(e.description)}})),C(c),setTimeout((function(){v(!1)}),500),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),v(!1),u(e.t0.response.data.response),console.log(e.t0.response.data.response);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(E,null):null,r.a.createElement(N,{resMessage:s}),j?r.a.createElement(F,{setUpdate:function(e){return y(e)},fetchWishlists:function(){return M()},showMessage:function(e){return u(e)}}):r.a.createElement(r.a.Fragment,null,0===T.length?r.a.createElement("section",{className:a?"wishlists relative marginTopMedium":"wishlists relative"},r.a.createElement("button",{className:"secondary absolute textLeft left",type:"button",onClick:function(){return c.goBack()}},"Back"),r.a.createElement("div",{className:a?"banner relative":"banner relative grid gridTwoThirds"},r.a.createElement("div",null,r.a.createElement("h2",null,"Overview"),r.a.createElement("h1",null,"Wishlists")),!a&&x.length?r.a.createElement("div",{className:"relative flexEnd alignItemsBottom"},r.a.createElement("button",{className:"btnCreateWishList active",onClick:function(){return y(!0)}},"Create wishlist")):null),x.length?r.a.createElement("div",{className:"wishlistContainer grid gridFourColumns container gridGapSmall"},x.map((function(e,t){return r.a.createElement(D,{i:t,key:t,wishlist:e,fetchSingleWishlist:function(e){return function(e){W(e)}(e)}})}))):r.a.createElement("div",{className:"banner"},a?r.a.createElement("h2",null,"No wishlists yet..."):r.a.createElement("div",{className:"container grid justifyContentCenter"},r.a.createElement("button",{className:"btnCreateWishList active marginTopSmall",onClick:function(){return y(!0)}},"Create wishlist")))):r.a.createElement(I,{userID:t,context:a,openWishlist:function(e){return W(e)},fetchWishlists:function(){return M()},wishlist:T,ID:T.ID,showMessage:function(e){return u(e)}})))},P=function(e){var t=Object(p.g)(),a=e.searchID?e.searchID:e.match.params.ID,c=Object(n.useState)([]),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(!0),g=Object(m.a)(d,2),f=g[0],v=g[1],b=function(){var e=Object(i.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/profile/".concat(a));case 4:n=e.sent,r=n.data.response,u(r),v(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.push("/");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[a]),r.a.createElement(r.a.Fragment,null,f?r.a.createElement(E,null):null,r.a.createElement("div",{className:"profile thumbnail bgPurple"},r.a.createElement("p",{className:"colorWhite"}," Profile"),r.a.createElement("h1",{className:"colorWhite"},s.firstName," ",s.lastName)),r.a.createElement(L,{userID:a,context:"public"}))},T=function(e){var t=Object(p.g)();0===localStorage.length&&t.push("/"),Object(n.useEffect)((function(){a()}),[]);var a=function(){var a=Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/logout");case 3:e.onAuth(!1),localStorage.clear(),t.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0&&console.log(a.t0.response.data.response);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null)},W=function(e){var t=Object(p.g)();localStorage.getItem("user")&&t.push("/profile");var a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],f=d[1],E=Object(n.useState)(!1),v=Object(m.a)(E,2),w=v[0],O=v[1],j=b(null),y=j.message,S=j.showMessage,k=e.match.params.token,x=function(){var e=Object(i.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,O(!0),e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/",{password:l,repeatPassword:g,token:k});case 5:n=e.sent,r=n.data.response,O(!1),S(r),setTimeout((function(){t.push("/login")}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),O(!1),S(e.t0.response.data.response);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){return l.length>0&&l.length>=8&&g.length>0&&g.length>=8&&l===g};return r.a.createElement("section",{className:"resetPassword"},r.a.createElement(N,{resMessage:y}),r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go"),r.a.createElement("h1",{className:"formHeader"},"Let's reset your password")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",id:"resetPassword"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:l.password,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"repeatPassword"}," Repeat password "),r.a.createElement("input",{id:"repeatPassword",placeholder:"Repeat your password",type:"password",value:l.repeatPassword,onChange:function(e){return f(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C(),onClick:x,type:"submit"},w?"Loading...":"Confirm new password"))))},M=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!0),d=Object(m.a)(u,2),g=d[0],f=d[1],E=Object(n.useState)(!1),v=Object(m.a)(E,2),w=v[0],O=v[1],j=b(null),y=j.message,S=j.showMessage,k=Object(p.g)();localStorage.getItem("user")&&k.push("/profile"),Object(n.useEffect)((function(){S("Please enter your email")}),[]);var x=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,O(!0),e.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/requestReset",{email:l});case 5:a=e.sent,n=a.data.response,console.log(n),O(!1),S(n),f(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),O(!1),S(e.t0.response.data.response),console.log(e.t0.response.data.response);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){return l.length>0&&t.test(l)};return r.a.createElement("section",{className:"forgottenPassword"},r.a.createElement(N,{resMessage:y}),g?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Here we go"),r.a.createElement("h1",null,"Let's reset your password")),r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",id:"forgottenPassword"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"}," Email "),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:l,onChange:function(e){return s(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:C()?"active":"",disabled:!C,onClick:x,type:"submit"},w?"Loading...":"Request new password")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"We're almost there!"),r.a.createElement("h1",null,"Please check your e-mail and follow the link to proceed."))))},A=function(e){var t=/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),g=d[0],f=d[1],E=Object(n.useState)(""),v=Object(m.a)(E,2),w=v[0],O=v[1],j=Object(n.useState)(""),y=Object(m.a)(j,2),S=y[0],k=y[1],x=Object(n.useState)(""),C=Object(m.a)(x,2),I=C[0],F=C[1],D=Object(n.useState)(!1),L=Object(m.a)(D,2),P=L[0],T=L[1],W=b(null),M=W.message,A=W.showMessage,z=Object(p.g)(),B=e.location.state||{from:{pathname:"/profile"}};localStorage.getItem("user")&&z.push("/profile");var G=function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),a.preventDefault(),t.prev=2,t.next=5,h.a.post("http://ec2-54-90-37-154.compute-1.amazonaws.com/user/signup",{firstName:l,lastName:g,email:w,password:S,repeatPassword:I});case 5:n=t.sent,r=n.data,localStorage.setItem("user",JSON.stringify(r.response)),e.onAuth(!0),z.push(B.from.pathname),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),T(!1),A(t.t0.response.data.response),console.log(t.t0.response.data.response);case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{resMessage:M}),r.a.createElement("section",{className:"signup"},r.a.createElement("div",{className:"banner"},r.a.createElement("h2",null,"Let's get started..."),r.a.createElement("h1",{className:"headerSection"},"Sign up"),r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("form",{className:"grid gridGapSmall gridTwoColumns container",onSubmit:G},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{id:"firstName",placeholder:"First Name",type:"text",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{id:"lastName",placeholder:"Last Name",type:"text",value:g,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",placeholder:"E-mail",type:"email",value:w,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",placeholder:"Password",type:"password",value:S,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"container grid"},r.a.createElement("label",{htmlFor:"Repeat password"},"Repeat password"),r.a.createElement("input",{id:"repeatPassword",placeholder:"repeatPassword",type:"password",value:I,onChange:function(e){return F(e.target.value)}}))),r.a.createElement("div",{className:"relative flexEnd container alignItemsBottom"},r.a.createElement("button",{className:"active",disabled:!(l&&g&&w.length>0&&S.length>=8&&I===S&&t.test(w)),type:"submit"},P?"Loading":"Sign up"))))))},z=function(e){var t=e.setSearchID,a=Object(p.g)(),c=Object(n.useState)(!1),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),f=g[0],E=g[1],v=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===t.target.value.length?N():b(),e.prev=1,e.next=4,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/search/users?term=".concat(t.target.value));case 4:a=e.sent,n=a.data.response,r=n.map((function(e){return{ID:"".concat(e.ID),firstName:"".concat(e.firstName),lastName:"".concat(e.lastName)}})),E(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E(e.t0.response.data.response),console.log(e.t0.response.data.response);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){u(!0)},N=function(e){e&&(e.target.value=""),setTimeout((function(){E(""),u(!1)}),100)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{id:"frmSearch"},s?r.a.createElement("input",{onInput:v,onFocus:b,onBlur:N,className:"active",id:"search",type:"text",placeholder:"Search on Wishful"}):r.a.createElement("input",{onInput:v,onFocus:b,onBlur:N,id:"search",type:"text",placeholder:"\uf002"})),0!==f.length&&"No result"!==f?r.a.createElement("div",{className:"searchResults"},f.map((function(e,n){return r.a.createElement("p",{className:"btnResult",id:e.ID,onClick:function(){return function(e){console.log(e),t(e.ID),a.push("/profile/".concat(e.ID))}(e)},key:n},e.firstName," ",e.lastName)}))):"No result"===f?r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,f)):null)};h.a.defaults.withCredentials=!0;var B=function(e){var t=e.component,a=e.auth,n=Object(u.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a||localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},G=function(e){var t=Object(n.useState)(!!localStorage.getItem("user")),a=Object(m.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://ec2-54-90-37-154.compute-1.amazonaws.com/authorize");case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(e){l(e)},g=function(){l(!1)},f=Object(n.useState)(!1),E=Object(m.a)(f,2),b=E[0],N=E[1];return console.log(b),Object(n.useEffect)((function(){return console.log("Mounting and fecthing auth - currently auth is "+c),s(),function(){return console.log("Unmounting...")}}),[c]),r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"Navigation"},r.a.createElement("ul",{style:c?{gridTemplateColumns:"repeat(5, 1fr)"}:{gridTemplateColumns:"repeat(4, 1fr)"}},r.a.createElement("header",null,r.a.createElement(d.b,{to:"".concat("","/")},"Wishful")),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/"),exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/wishlists")},"Your wishlists")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/profile")},"Profile")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/logout")},"Log out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/"),exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/login")},"Login")),r.a.createElement("li",null,r.a.createElement(d.c,{activeClassName:"active",to:"".concat("","/signup")},"Sign up"))))),r.a.createElement("main",{className:!1===c?"public":""},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"".concat("","/"),component:function(e){return r.a.createElement(v,Object.assign({},e,{auth:c}))}}),r.a.createElement(B,{exact:!0,auth:c,path:"".concat("","/wishlists"),component:function(e){return r.a.createElement(L,e)}}),r.a.createElement(B,{exact:!0,auth:c,path:"".concat("","/profile"),component:function(e){return r.a.createElement(y,Object.assign({onUnAuth:g},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/login"),component:function(e){return r.a.createElement(w,Object.assign({auth:c,onAuth:u},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/signup"),component:function(e){return r.a.createElement(A,Object.assign({onAuth:u},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/profile/:ID"),component:function(e){return r.a.createElement(P,Object.assign({searchID:b},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/logout"),component:function(e){return r.a.createElement(T,Object.assign({onAuth:g},e))}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/confirmReset/:token"),component:function(e){return r.a.createElement(W,e)}}),r.a.createElement(p.b,{exact:!0,path:"".concat("","/requestReset"),component:function(e){return r.a.createElement(M,e)}})),r.a.createElement(z,{setSearchID:function(e){return N(e)}}),r.a.createElement("div",{className:"colorBlockContainer grid"},r.a.createElement("div",{className:"colorBlock bgGreen"}),r.a.createElement("div",{className:"colorBlock grid gridTwoColumns"},r.a.createElement("div",{className:"bgPurple"}),r.a.createElement("div",{className:"bgBlue"})))),r.a.createElement("footer",null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.4d44917a.chunk.js.map